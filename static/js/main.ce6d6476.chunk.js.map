{"version":3,"sources":["components/ChartPctVaccinated.jsx","components/ChartDosesGiven.jsx","components/ChartDosesGivenByState.jsx","App.js","reportWebVitals.js","index.js"],"names":["getWindowDimensions","window","width","innerWidth","height","innerHeight","ChartPctVaccinated","rawData","stateCode","coverageCol","data","cloneDeep","chartId","useState","windowDimensions","setWindowDimensions","useEffect","handleResize","addEventListener","removeEventListener","annotationFontSize","axisFontSize","margin","x","d3","range","y","valueline","d","date","selectAll","remove","svg","attr","append","forEach","moment","Number","milestone","console","log","domain","dataReal","filter","row","projected","dataProj","unshift","length","splice","enter","text","format","replace","toFixed","style","call","ticks","tickFormat","id","ChartDosesGiven","shotColMa","shotCol","tooltip","barWidth","outlier","on","pageX","pageY","html","Math","round","toLocaleString","curve","dataLine","lastAvgPoint","error","locale","ChartDosesGivenByState","code","sort","a","b","originalHeight","padding","xDataMax","xScaleModule","xScaleMax","abs","ticksNumber","map","i","n","bandwidth","maxShots","maximumFractionDigits","DATA_SOURCE","App","brLatest","latest_first","brMainMilestoneFirst","milestones_first","brMainMilestoneDateFirst","brMainMilestoneFull","milestones_full","brMainMilestoneDateFull","daysUntilYearEnd","Date","getFullYear","toString","daysUntilBrMilestoneFirst","days_until","timesDosesUntilYearEndFirst","daysUntilBrMilestoneFull","timesDosesUntilYearEndFull","className","MAIN_MILESTONE","projections_first","projections_full","new_first_shot_mov_avg","new_fully_vaccinated_mov_avg","latest_full","href","target","rel","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.ce6d6476.chunk.js","sourcesContent":["import { useState, useEffect } from \"react\";\nimport * as d3 from \"d3v4\"\nimport '../assets/css/ChartPctVaccinated.scss';\nimport cloneDeep from 'lodash/cloneDeep'\nimport moment from \"moment\"\n\nfunction getWindowDimensions() {\n  const { innerWidth: width, innerHeight: height } = window;\n  return {\n    width,\n    height\n  };\n}\n\nconst ChartPctVaccinated = ({rawData, stateCode, coverageCol}) => {\n  const data = cloneDeep(rawData[stateCode])\n  const chartId = `pct-vaccinated-${stateCode}-${coverageCol}`\n\n  const [windowDimensions, setWindowDimensions] = useState(getWindowDimensions());\n\n  useEffect(() => {\n    function handleResize() {\n      setWindowDimensions(getWindowDimensions());\n    }\n\n    window.addEventListener('resize', handleResize);\n    return () => window.removeEventListener('resize', handleResize);\n  }, []);\n\n  useEffect(() => {\n    const annotationFontSize = windowDimensions.width > 480 ? \"1em\" : \"1.5em\"\n    const axisFontSize = windowDimensions.width > 480 ? \"0.8em\" : \"1.3em\"\n\n    var margin = {top: 20, right: 20, bottom: 30, left: 50},\n    originalWidth = 600,\n    originalHeight = 400,\n    width = originalWidth - margin.left - margin.right,\n    height = originalHeight - margin.top - margin.bottom;\n\n    // parse the date / time\n    var parseTime = d3.timeParse(\"%y-%m-%d\");\n\n    // set the ranges\n    var x = d3.scaleTime().range([0, width]);\n    var y = d3.scaleLinear().range([height, 0]);\n\n    // define the line\n    var valueline = d3.line()\n        .x(function(d) { return x(d.date); })\n        .y(function(d) { return y(d[coverageCol]); });\n\n    // append the svg obgect to the body of the page\n    // appends a 'group' element to 'svg'\n    // moves the 'group' element to the top left margin\n    d3.select(\"#\" + chartId).selectAll(\"*\").remove()\n\n    var svg = d3.select(\"#\" + chartId)\n        // .attr(\"width\", width + margin.left + margin.right)\n        // .attr(\"height\", height + margin.top + margin.bottom)\n        .attr(\"preserveAspectRatio\", \"xMinYMin meet\")\n        .attr(\"viewBox\", `0 0 ${originalWidth} ${originalHeight}`)\n      .append(\"g\")\n        .attr(\"transform\",\n              \"translate(\" + margin.left + \",\" + margin.top + \")\");\n\n\n      // format the data\n      data.forEach(function(d) {\n          // d.date = parseTime(d.date);\n          d.date = moment(d.date);\n          d[coverageCol] = 100 * Number(d[coverageCol]);\n          d.milestone = 100 * Number(d.milestone);\n      });\n      console.log(data);\n\n      // Scale the range of the data\n      x.domain(d3.extent(data, function(d) { return d.date; }));\n      // x.domain([d3.min(data, d => d.date), new Date(\"2023-06-01\")]);\n      y.domain([0, 100]);\n\n      const dataReal = data.filter(row => row.projected === false)\n      const dataProj = data.filter(row => row.projected === true && row.milestone !== 70)\n      dataProj.unshift(dataReal[dataReal.length - 1])\n\n      // Add the valueline path.\n      svg.append(\"path\")\n          .data([dataReal])\n          .attr(\"class\", \"line-real\")\n          .attr(\"d\", valueline);\n\n      svg.append(\"path\")\n          .data([dataProj])\n          .attr(\"class\", \"line-projected\")\n          .attr(\"d\", valueline);\n\n      dataProj.splice(-1,1)\n\n      svg.selectAll(\"points\")\n        .data(dataProj)\n        .enter()\n        .append(\"circle\")\n        .attr(\"fill\", function (d) {\n          if (d.milestone) {\n            return \"white\"\n          } else {\n            return \"black\"\n          }\n        })\n        .attr(\"stroke\", function (d) {\n          if (d.milestone) {\n            return \"black\"\n          } else {\n            return \"black\"\n          }\n        })\n        .attr(\"stroke-width\", \"2\")\n        .attr(\"cx\", function(d) { return x(d.date) })\n        .attr(\"cy\", function(d) { return y(d[coverageCol]) })\n        .attr(\"r\", 5)\n\n      if (windowDimensions.width <= 480) {\n        // dataProj.splice(-1,1)\n      }\n\n      svg.selectAll(\"annotations-date\")\n        .data(dataProj)\n        .enter()\n        .append(\"text\")\n        .attr(\"x\", function(d) { return x(d.date) })\n        .attr(\"y\", function(d) { return y(d[coverageCol]) })\n        .attr(\"dy\", function (d) {\n          if (d.milestone) {\n            return \"3.5em\"\n          } else {\n            return \"-1em\"\n          }\n        })\n        .attr(\"font-size\", annotationFontSize)\n        .attr(\"text-anchor\", function (d) {\n          if (d.milestone) {\n            return \"middle\"\n          } else {\n            return \"end\"\n          }\n        })\n        .text(function (d) { return d.date.format(\"DD/MM/YY\").replace(\"/21\", \"\") })\n\n      svg.selectAll(\"annotations-value\")\n        .data(dataProj)\n        .enter()\n        .append(\"text\")\n        .attr(\"x\", function(d) { return x(d.date) })\n        .attr(\"y\", function(d) { return y(d[coverageCol]) })\n        .attr(\"dy\", function (d) {\n          if (d.milestone) {\n            return \"2.25em\"\n          } else {\n            return \"-2.25em\"\n          }\n        })\n        .attr(\"font-size\", annotationFontSize)\n        .attr(\"text-anchor\", function (d) {\n          if (d.milestone) {\n            return \"middle\"\n          } else {\n            return \"end\"\n          }\n        })\n        .text(function (d) { return (d.milestone || d[coverageCol].toFixed(1)) + \"%\" })\n\n      // Add the X Axis\n      svg.append(\"g\")\n          .style(\"font\", `${axisFontSize} Bitter`)\n          .attr(\"transform\", \"translate(0,\" + height + \")\")\n          .call(d3.axisBottom(x)\n                  .ticks(d3.timeMonth)\n                  .tickFormat(d3.timeFormat(\"%b\"))\n          )\n          // .select(\".domain\").remove();\n\n      // https://bl.ocks.org/mbostock/4323929\n      // Add the Y Axis\n      svg.append(\"g\")\n          .style(\"font\", `${axisFontSize} Bitter`)\n          .call(d3.axisLeft(y)\n                  .tickFormat(function(d) {\n                      var mod = 50\n                      var t = d % mod\n                      if (t === 0) {\n                        return d\n                      }\n                    })\n        )\n        // .select(\".domain\").remove();\n\n      // text label for the y axis\n      svg.append(\"text\")\n          .attr(\"y\", 5)\n          .attr(\"x\", 10)\n          // .attr(\"dy\", \"1em\")\n          .attr(\"font-size\", annotationFontSize)\n          .attr(\"class\", \"annotations\")\n          .style(\"text-anchor\", \"beginning\")\n          .text(\"% da pop. adulta vacinada\");\n\n  }, [data, chartId, windowDimensions.width]);\n\n  return (\n    <div>\n      <svg id={chartId}></svg>\n    </div>\n  )\n}\n\nexport default ChartPctVaccinated\n","import { useState, useEffect } from \"react\";\nimport * as d3 from \"d3v4\"\nimport '../assets/css/ChartDosesGiven.scss';\nimport cloneDeep from 'lodash/cloneDeep'\nimport moment from \"moment\"\n\nfunction getWindowDimensions() {\n  const { innerWidth: width, innerHeight: height } = window;\n  return {\n    width,\n    height\n  };\n}\n\nconst ChartDosesGiven = ({rawData, stateCode, shotColMa, shotCol}) => {\n  // console.log(data)\n  const data = cloneDeep(rawData[stateCode].filter(row => row.projected === false))\n  const chartId = `doses-${stateCode}-${shotCol}`\n\n  const [windowDimensions, setWindowDimensions] = useState(getWindowDimensions());\n\n  useEffect(() => {\n    function handleResize() {\n      setWindowDimensions(getWindowDimensions());\n    }\n\n    window.addEventListener('resize', handleResize);\n    return () => window.removeEventListener('resize', handleResize);\n  }, []);\n\n  useEffect(() => {\n    const annotationFontSize = windowDimensions.width > 480 ? \"1em\" : \"1.5em\"\n    const axisFontSize = windowDimensions.width > 480 ? \"0.8em\" : \"1.3em\"\n\n    var margin = {top: 20, right: 20, bottom: 30, left: 60},\n    originalWidth = 600,\n    originalHeight = 400,\n    width = originalWidth - margin.left - margin.right,\n    height = originalHeight - margin.top - margin.bottom;\n\n    // parse the date / time\n    var parseTime = d3.timeParse(\"%y-%m-%d\");\n\n    // set the ranges\n    var x = d3.scaleTime().range([0, width]);\n    var y = d3.scaleLinear().range([height, 0]);\n\n    // append the svg obgect to the body of the page\n    // appends a 'group' element to 'svg'\n    // moves the 'group' element to the top left margin\n\n    d3.select(\"#\" + chartId).selectAll(\"*\").remove()\n\n    var svg = d3.select(\"#\" + chartId)\n        // .attr(\"width\", width + margin.left + margin.right)\n        // .attr(\"height\", height + margin.top + margin.bottom)\n        .attr(\"preserveAspectRatio\", \"xMinYMin meet\")\n        .attr(\"viewBox\", `0 0 ${originalWidth} ${originalHeight}`)\n      .append(\"g\")\n        .attr(\"transform\",\n              \"translate(\" + margin.left + \",\" + margin.top + \")\");\n\n\n      // format the data\n      data.forEach(function(d) {\n          // d.date = parseTime(d.date);\n          d.date = moment(d.date);\n          d[shotCol] = Number(d[shotCol]) / 1000;\n          d[shotColMa] = Number(d[shotColMa]) / 1000;\n          d.milestone = 100 * Number(d.milestone);\n      });\n\n      // Scale the range of the data\n      x.domain(d3.extent(data, function(d) { return d.date; }));\n      y.domain([0, d3.max(data, d => d[shotCol] * 1.05)]);\n\n      var tooltip = d3.select(\"body\").append(\"div\").attr(\"class\", \"tooltip\");\n      const barWidth = width / data.length\n      svg.selectAll(\".bar\")\n            .data(data)\n          .enter().append(\"rect\")\n            .attr(\"class\", function (d) {\n              if (d.outlier) {\n                return \"doses-bar-outlier\"\n              } else {\n                return \"doses-bar\"\n              }\n            })\n            .attr(\"x\", function(d) { return x(d.date) - barWidth; })\n            .attr(\"width\", barWidth)\n            .attr(\"y\", function(d) { return y(d[shotCol]); })\n            .attr(\"height\", function(d) { return height - y(d[shotCol]); })\n            .on(\"mousemove\", function(d){\n                tooltip\n                  .style(\"left\", d3.event.pageX - 50 + \"px\")\n                  .style(\"top\", d3.event.pageY - 70 + \"px\")\n                  .style(\"display\", \"inline-block\")\n                  .html((d.date.format(\"DD/MM/YY\")) + \"<br/>\" + Math.round(d[shotCol] * 1000).toLocaleString(\"pt-BR\") + \" doses aplicadas\");\n            })\n        \t\t.on(\"mouseout\", function(d){ tooltip.style(\"display\", \"none\");});\n      // Add the valueline path\n      // define the line\n      var valueline = d3.line()\n          .curve(d3.curveStep)\n          .x(function(d) { return x(d.date); })\n          .y(function(d) { return y(d[shotColMa]); });\n      const dataLine = data.filter(row => row[shotColMa] > 0)\n      svg.append(\"path\")\n          .data([dataLine])\n          .attr(\"class\", \"line-avg\")\n          .attr(\"d\", valueline);\n\n      const lastAvgPoint = [dataLine[dataLine.length - 1]]\n      // annotation line\n      svg.append('line')\n          .style(\"stroke\", \"#bbbbbb\")\n          .style(\"stroke-width\", 2)\n          .attr(\"x1\", function(d) { return x(lastAvgPoint[0].date) })\n          .attr(\"y1\", \"2.5em\")\n          .attr(\"x2\", function(d) { return x(lastAvgPoint[0].date) })\n          .attr(\"y2\", function(d) { return y(lastAvgPoint[0][shotColMa]) })\n\n      svg.selectAll(\"points\")\n        .data(lastAvgPoint)\n        .enter()\n        .append(\"circle\")\n        .attr(\"fill\", \"black\")\n        .attr(\"stroke\", \"black\")\n        .attr(\"stroke-width\", \"0\")\n        .attr(\"cx\", function(d) { return x(d.date) })\n        .attr(\"cy\", function(d) { return y(d[shotColMa]) })\n        .attr(\"r\", 5)\n\n    svg.selectAll(\"points-annotation\")\n      .data(lastAvgPoint)\n      .enter()\n      .append(\"text\")\n      .attr(\"x\", function(d) { return x(d.date) })\n      .attr(\"y\", function(d) { return y(d[shotColMa]) * 0 })\n      .attr(\"dy\", \"0\")\n      .attr(\"class\", \"annotations\")\n      .attr(\"font-size\", annotationFontSize)\n      .attr(\"text-anchor\", \"end\")\n      .text(function (d) { return (Math.round(d[shotColMa] * 10) / 10).toLocaleString(\"pt-BR\") + \" mil doses\"})\n    svg.selectAll(\"points-annotation-avg\")\n      .data(lastAvgPoint)\n      .enter()\n      .append(\"text\")\n      .attr(\"x\", function(d) { return x(d.date) })\n      .attr(\"y\", function(d) { return y(d[shotColMa]) * 0 })\n      .attr(\"dy\", \"1.5em\")\n      .attr(\"class\", \"annotations\")\n      .attr(\"font-size\", annotationFontSize)\n      .attr(\"text-anchor\", \"end\")\n      .text(\"em média por dia\")\n\n\n\n      // https://bl.ocks.org/mbostock/4323929\n      // Add the Y Axis\n      svg.append(\"g\")\n          .style(\"font\", `${axisFontSize} Bitter`)\n          .call(d3.axisLeft(y)\n                  .tickFormat(function(d) {\n                      var mod = windowDimensions.width > 480 ? 50 : 100\n                      var t = d % mod\n                      if (t === 0) {\n                        return d\n                      }\n                    })\n        )\n        // .select(\".domain\").remove();\n\n      // // text label for the y axis\n      // if (windowDimensions.width > 480) {\n      //   svg.append(\"text\")\n      //       .attr(\"y\", 5)\n      //       .attr(\"x\", 10)\n      //       // .attr(\"dy\", \"1em\")\n      //       .attr(\"font-size\", annotationFontSize)\n      //       .attr(\"class\", \"annotations\")\n      //       .style(\"text-anchor\", \"beginning\")\n      //       .text(\"mil primeiras doses aplicadas\");\n      // }\n\n      // Add the X Axis\n      d3.json(\"https://cdn.jsdelivr.net/npm/d3-time-format@3/locale/pt-BR.json\", function(error, locale) {\n        if (error) throw error;\n        d3.timeFormatDefaultLocale(locale);\n        svg.append(\"g\")\n          .style(\"font\", `${axisFontSize} Bitter`)\n          .attr(\"transform\", \"translate(0,\" + height + \")\")\n          .call(d3.axisBottom(x)\n          .ticks(d3.timeMonth, 1)\n          .tickFormat(d3.timeFormat(\"%b\"))\n        )\n        // .select(\".domain\").remove();\n      });\n\n  }, [data, chartId, windowDimensions.width]);\n\n  return (\n    <div>\n      <svg id={chartId}></svg>\n    </div>\n  )\n}\n\nexport default ChartDosesGiven\n","import { useState, useEffect } from \"react\";\nimport * as d3 from \"d3v4\"\nimport '../assets/css/ChartDosesGivenByState.scss';\nimport cloneDeep from 'lodash/cloneDeep'\nimport moment from \"moment\"\n\nfunction getWindowDimensions() {\n  const { innerWidth: width, innerHeight: height } = window;\n  return {\n    width,\n    height\n  };\n}\n\nconst ChartDosesGivenByState = ({rawData, shotColMa}) => {\n  const data = cloneDeep(rawData.filter(row => row.code !== \"WRL\")).sort((a,b) => a[shotColMa] - b[shotColMa])\n  const chartId = `doses-given-by-state-shot-${shotColMa}`\n\n  const [windowDimensions, setWindowDimensions] = useState(getWindowDimensions());\n\n  useEffect(() => {\n    function handleResize() {\n      setWindowDimensions(getWindowDimensions());\n    }\n\n    window.addEventListener('resize', handleResize);\n    return () => window.removeEventListener('resize', handleResize);\n  }, []);\n\n  useEffect(() => {\n    const annotationFontSize = windowDimensions.width > 480 ? \"1em\" : \"1.5em\"\n    const axisFontSize = windowDimensions.width > 480 ? \"0.8em\" : \"1.3em\"\n\n    var margin = {top: 20, right: 50, bottom: 30, left: 50},\n    originalWidth = 600,\n    originalHeight = windowDimensions.width > 480 ? 700 : 900,\n    width = originalWidth - margin.left - margin.right,\n    height = originalHeight - margin.top - margin.bottom;\n\n    d3.select(\"#\" + chartId).selectAll(\"*\").remove()\n    var svg = d3.select(\"#\" + chartId)\n        // .attr(\"width\", width + margin.left + margin.right)\n        // .attr(\"height\", height + margin.top + margin.bottom)\n        .attr(\"preserveAspectRatio\", \"xMinYMin meet\")\n        .attr(\"viewBox\", `0 0 ${originalWidth} ${originalHeight}`)\n      .append(\"g\")\n        .attr(\"transform\",\n              \"translate(\" + margin.left + \",\" + margin.top + \")\");\n\n    // format the data\n    data.forEach(function(d) {\n        // d.date = parseTime(d.date);\n        d.date = moment(d.date);\n    });\n\n  // set the ranges\n  var y = d3.scaleBand()\n            .range([height, 0])\n            .padding(0.1);\n\n  var x = d3.scaleLinear()\n            .range([0, width]);\n\n  // Scale the range of the data in the domains\n  const xDataMax = d3.max(data, (d => d[shotColMa]))\n  const xScaleModule = 20000\n  const xScaleMax = xDataMax + Math.abs((xDataMax % xScaleModule) - xScaleModule)\n  const ticksNumber = xScaleMax / xScaleModule\n\n  x.domain([0, xScaleMax])\n  y.domain(data.map(function(d) { return d.code; }));\n\n  // // add the X gridlines\n  // svg.append(\"g\")\n  //     .attr(\"class\", \"axis-grid\")\n  //     .attr(\"transform\", \"translate(0,\" + height + \")\")\n  //     .call(d3.axisBottom(x)\n  //         .ticks(ticksNumber)\n  //         .tickSize(-height)\n  //         .tickFormat(\"\")\n  //     )\n\n  // Add the X Axis\n  svg.append(\"g\")\n      .style(\"font\", `${axisFontSize} Bitter`)\n      .attr(\"transform\", \"translate(0,\" + height + \")\")\n      .call(d3.axisBottom(x)\n        .ticks(ticksNumber)\n        .tickFormat(function(d, i, n) {\n            // console.log(d)\n            return n[i + 1] ? (d / 1000) : (d / 1000 + \" mil\")\n          })\n              // .ticks(d3.timeYear)\n              // .tickFormat(d3.timeFormat(\"%d/%m/%y\"))\n      )\n      // .select(\".domain\").remove();\n\n  // add the y Axis\n  svg.append(\"g\")\n      .style(\"font\", `${axisFontSize} Bitter`)\n      .call(d3.axisLeft(y)\n    );\n\n  // append the rectangles for the bar chart\n  var tooltip = d3.select(\"body\").append(\"div\").attr(\"class\", \"tooltip\");\n  svg.selectAll(\".bar\")\n      .data(data)\n    .enter().append(\"rect\")\n      .attr(\"class\", \"doses-bar\")\n      //.attr(\"x\", function(d) { return x(d.sales); })\n      .attr(\"width\", function(d) {return x(d[shotColMa]); } )\n      .attr(\"y\", function(d) { return y(d.code); })\n      .attr(\"height\", y.bandwidth() * 0.9)\n      .on(\"mousemove\", function(d){\n          tooltip\n            .style(\"left\", d3.event.pageX - 50 + \"px\")\n            .style(\"top\", d3.event.pageY - 70 + \"px\")\n            .style(\"display\", \"inline-block\")\n            .html(`${d.code}: ${(Math.round(d[shotColMa] * 10) / 10).toLocaleString(\"pt-BR\")} mil<br/>primeiras doses em média por dia`);\n      })\n      .on(\"mouseout\", function(d){ tooltip.style(\"display\", \"none\");});\n\n  const maxShots = d3.max(data, function(d){ return d[shotColMa]; })\n  svg.selectAll(\".bar-annotations\")\n      .data(data)\n    .enter().append(\"text\")\n      .attr(\"class\", \"annotations\")\n      .attr(\"font-size\", axisFontSize)\n      .attr(\"x\", function(d) { return x(d[shotColMa]); })\n      .attr(\"y\", function(d) { return y(d.code); })\n      .attr(\"dy\", y.bandwidth() / 2)\n      .attr(\"dx\", \"0.25em\")\n      .style(\"text-anchor\", \"beginning\")\n      .style(\"alignment-baseline\", \"middle\")\n      .text(function(d) {\n        if (d[shotColMa] === maxShots) {\n          return (d[shotColMa] / 1000).toLocaleString(\"pt-BR\", { maximumFractionDigits: 1 }) + \" mil\";\n        } else {\n          return (d[shotColMa] / 1000).toLocaleString(\"pt-BR\", { maximumFractionDigits: 1 });\n        }\n      })\n\n\n  }, [data, chartId, windowDimensions.width]);\n\n  return (\n    <div>\n      <svg id={chartId}></svg>\n    </div>\n  )\n}\n\nexport default ChartDosesGivenByState\n","import './App.css';\n// import updatedAt from \"./components/data/updated_at\"\nimport projections_first from \"./components/data/coverage_first_shot/projections\"\nimport milestones_first from \"./components/data/coverage_first_shot/milestones\"\nimport latest_first from \"./components/data/coverage_first_shot/latest\"\n\nimport projections_full from \"./components/data/coverage_fully_vaccinated/projections\"\nimport milestones_full from \"./components/data/coverage_fully_vaccinated/milestones\"\nimport latest_full from \"./components/data/coverage_fully_vaccinated/latest\"\n\nimport ChartPctVaccinated from \"./components/ChartPctVaccinated\"\nimport ChartDosesGiven from \"./components/ChartDosesGiven\"\n// import ChartPctVaccinatedByState from \"./components/ChartPctVaccinatedByState\"\nimport ChartDosesGivenByState from \"./components/ChartDosesGivenByState\"\nimport moment from \"moment\"\n\nconst MOVING_AVG = 7\nconst MAIN_MILESTONE = 0.9\nconst STATES = [\n  {'name': 'Acre', 'acronym': 'AC'},\n  {'name': 'Alagoas', 'acronym': 'AL'},\n  {'name': 'Amapá', 'acronym': 'AP'},\n  {'name': 'Amazonas', 'acronym': 'AM'},\n  {'name': 'Bahia', 'acronym': 'BA'},\n  {'name': 'Ceará', 'acronym': 'CE'},\n  {'name': 'Distrito Federal', 'acronym': 'DF'},\n  {'name': 'Espírito Santo', 'acronym': 'ES'},\n  {'name': 'Goiás', 'acronym': 'GO'},\n  {'name': 'Maranhão', 'acronym': 'MA'},\n  {'name': 'Mato Grosso', 'acronym': 'MT'},\n  {'name': 'Mato Grosso do Sul', 'acronym': 'MS'},\n  {'name': 'Minas Gerais', 'acronym': 'MG'},\n  {'name': 'Pará', 'acronym': 'PA'},\n  {'name': 'Paraíba', 'acronym': 'PB'},\n  {'name': 'Paraná', 'acronym': 'PR'},\n  {'name': 'Pernambuco', 'acronym': 'PE'},\n  {'name': 'Piauí', 'acronym': 'PI'},\n  {'name': 'Rio de Janeiro', 'acronym': 'RJ'},\n  {'name': 'Rio Grande do Norte', 'acronym': 'RN'},\n  {'name': 'Rio Grande do Sul', 'acronym': 'RS'},\n  {'name': 'Rondônia', 'acronym': 'RO'},\n  {'name': 'Roraima', 'acronym': 'RR'},\n  {'name': 'Santa Catarina', 'acronym': 'SC'},\n  {'name': 'São Paulo', 'acronym': 'SP'},\n  {'name': 'Sergipe', 'acronym': 'SE'},\n  {'name': 'Tocantins', 'acronym': 'TO'},\n]\n\nconst DATA_SOURCE = {\n  \"text\": \"Consórcio formado pelos veículos Folha, UOL, O Estado de S. Paulo, Extra, O Globo e G1\",\n   \"url\": \"https://arte.folha.uol.com.br/ciencia/2021/veja-como-esta-a-vacinacao/brasil/\"\n}\n\nfunction App() {\n  const brLatest = latest_first.filter(row => row.code === \"WRL\")[0]\n\n  const brMainMilestoneFirst = milestones_first.filter(row => row.milestone === 0.9 && row.code === \"WRL\")[0]\n  const brMainMilestoneDateFirst = moment(brMainMilestoneFirst.date).format('DD/MM/YYYY')\n  const brMainMilestoneFull = milestones_full.filter(row => row.milestone === 0.9 && row.code === \"WRL\")[0]\n  const brMainMilestoneDateFull = moment(brMainMilestoneFull.date).format('DD/MM/YYYY')\n\n  const oneDay = 24 * 60 * 60 * 1000\n  const daysUntilYearEnd = Math.round(Math.abs((new Date() - new Date(`${(new Date().getFullYear() + 1).toString()}-01-01`)) / oneDay))\n\n  const daysUntilBrMilestoneFirst = brMainMilestoneFirst.days_until\n  const timesDosesUntilYearEndFirst = daysUntilBrMilestoneFirst > daysUntilYearEnd ? daysUntilBrMilestoneFirst / daysUntilYearEnd : false\n  const daysUntilBrMilestoneFull = brMainMilestoneFull.days_until\n  const timesDosesUntilYearEndFull = daysUntilBrMilestoneFull > daysUntilYearEnd ? daysUntilBrMilestoneFull / daysUntilYearEnd : false\n\n  return (\n    <div className=\"grid\">\n      <section>\n        <p className=\"f6 i mt4 tc\">Dados atualizados em {moment(brLatest.date).format('DD/MM/YYYY')}</p>\n        <h1 className=\"tc f2-ns f3 lh-copy b mb3\">Quanto tempo até a população brasileira ser vacinada contra a Covid-19?</h1>\n\n        <h2 className=\"tc f2-ns f3 bb pb2 mt4\">Primeira dose</h2>\n        <p className=\"tc f4-ns f5 lh-copy normal mt0\">No ritmo atual, demoraria até <span className=\"b\">{brMainMilestoneDateFirst}</span> para que <span className=\"b\">{MAIN_MILESTONE * 100}%</span> da população adulta do Brasil recebesse <span className=\"b\">pelo menos 1 dose</span> da vacina.</p>\n        <ChartPctVaccinated rawData={projections_first} stateCode=\"WRL\" coverageCol=\"coverage_first_shot\"/>\n        {timesDosesUntilYearEndFirst &&\n          <p className=\"tc f3-ns f4 lh-copy normal mt4\">Precisamos vacinar <span className=\"b\">{timesDosesUntilYearEndFirst.toLocaleString(\"pt-BR\", { maximumFractionDigits: 2 })} vezes mais rápido</span> para que 90% da população receba pelo menos uma dose <span className=\"b\">até o fim do ano</span>.</p>\n        }\n\n        <h2 className=\"tc f2-ns f3 bb pb2 mt4\">Imunização completa</h2>\n        <p className=\"tc f4-ns f5 lh-copy normal mt0\">No ritmo atual, demoraria até <span className=\"b\">{brMainMilestoneDateFull}</span> para que <span className=\"b\">{MAIN_MILESTONE * 100}%</span> da população adulta do Brasil recebesse <span className=\"b\">imunização completa</span> (duas doses ou dose única).</p>\n        <ChartPctVaccinated rawData={projections_full} stateCode=\"WRL\" coverageCol=\"coverage_fully_vaccinated\"/>\n        {timesDosesUntilYearEndFull &&\n          <p className=\"tc f3-ns f4 lh-copy normal mt4\">Precisamos vacinar <span className=\"b\">{timesDosesUntilYearEndFull.toLocaleString(\"pt-BR\", { maximumFractionDigits: 2 })} vezes mais rápido</span> para que 90% da população receba imunização completa <span className=\"b\">até o fim do ano</span>.</p>\n        }\n      </section>\n      <section>\n        <h2 className=\"tc f2-ns f3 lh-copy b\">Quantas primeiras doses estão sendo aplicadas por dia no Brasil?</h2>\n        <p className=\"tc f3-ns f4 lh-copy normal mt0\">O Brasil está aplicando <span className=\"b\">{brLatest.new_first_shot_mov_avg.toLocaleString(\"pt-BR\")} primeiras doses por dia</span>, considerando a média móvel dos últimos {MOVING_AVG} dias.</p>\n        <ChartDosesGiven rawData={projections_first} stateCode=\"WRL\" shotColMa=\"new_first_shot_mov_avg\" shotCol=\"new_first_shot\"/>\n        <figcaption className=\"f6 i mt2\">A linha representa a média movel de {MOVING_AVG} dias.</figcaption>\n      </section>\n      <section>\n        <h2 className=\"tc f2-ns f3 lh-copy b\">Quantas segundas doses (ou doses únicas) estão sendo aplicadas por dia no Brasil?</h2>\n        <p className=\"tc f3-ns f4 lh-copy normal mt0\">O Brasil está aplicando <span className=\"b\">{brLatest.new_fully_vaccinated_mov_avg.toLocaleString(\"pt-BR\")} segundas doses por dia</span>, considerando a média móvel dos últimos {MOVING_AVG} dias.</p>\n        <ChartDosesGiven rawData={projections_full} stateCode=\"WRL\" shotColMa=\"new_fully_vaccinated_mov_avg\" shotCol=\"new_fully_vaccinated\"/>\n        <figcaption className=\"f6 i mt2\">A linha representa a média movel de {MOVING_AVG} dias.</figcaption>\n      </section>\n      <section className=\"mt4 bt\">\n        <h2 className=\"tc f2-ns f3 lh-copy b mb0\">Como está o ritmo da vacinação em cada estado?</h2>\n        <h3 className=\"tc f4-ns f5 lh-copy normal mb0 mt4\">Primeiras doses aplicadas em média por dia, por estado</h3>\n        <ChartDosesGivenByState rawData={latest_first} shotColMa=\"new_first_shot_mov_avg\"/>\n        <figcaption className=\"f6 i mt2\">Dado representa a média movel de {MOVING_AVG} dias.</figcaption>\n        <h3 className=\"tc f4-ns f5 lh-copy normal mb0 mt4\">Segundas doses aplicadas em média por dia, por estado</h3>\n        <ChartDosesGivenByState rawData={latest_full} shotColMa=\"new_fully_vaccinated_mov_avg\"/>\n        <figcaption className=\"f6 i mt2\">Dado representa a média movel de {MOVING_AVG} dias.</figcaption>\n        {/*\n        <h3 className=\"tc f4-ns f5 lh-copy normal mb0 mt4\">Dias até 90% da população receber a primeira dose, por estado</h3>\n        <ChartPctVaccinatedByState rawData={milestones}/>\n        <figcaption className=\"f6 i mt2\">Projeção considera a média movel de {MOVING_AVG} dias de primeiras doses e população adulta por estado.</figcaption>\n        */}\n      </section>\n        {/*\n        <section className=\"mt5 bt\">\n        <h2 className=\"tc f2-ns f3 lh-copy b mb0\">Veja os gráficos para cada estado</h2>\n        {\n          STATES.map(state => (\n          <section key={state.acronym}>\n            <h2 className=\"tc f3-ns f4 lh-copy b mt5\">{state.name}</h2>\n            <div className=\"\">\n              <div className=\"w-100\">\n                <ChartPctVaccinated rawData={projections} stateCode={state.acronym}/>\n              </div>\n              <div className=\"w-100\">\n                <ChartDosesGiven rawData={projections} stateCode={state.acronym}/>\n              </div>\n            </div>\n          </section>\n        ))\n        }\n        </section>\n        */}\n      <section className=\"mt4 bt\">\n        <h2 className=\"tc f2-ns f3 lh-copy b mb0\">Dados e metodologia</h2>\n        <p className=\"lh-copy\">Os dados de vacinação são do <a href={DATA_SOURCE.url} target=\"_blank\" rel=\"noreferrer\">{DATA_SOURCE.text}</a>. Dados de população são estimativas do IBGE, 2020.</p>\n        <p className=\"lh-copy\">Consideramos população adulta (elegível para receber a vacina) como os maiores de 18 anos.</p>\n        <p className=\"lh-copy\">A projeção do tempo para vacinar a população adulta com pelo menos uma dose considera a média móvel de {MOVING_AVG} dias das novas primeiras doses aplicadas.</p>\n        <p className=\"lh-copy\">Inspirado no painel de vacinação do <a href=\"https://www.nytimes.com/interactive/2020/us/covid-19-vaccine-doses.html\">NY Times</a>.</p>\n        <p className=\"lh-copy\">Desenvolvido por <a href=\"https://twitter.com/bernardomaps\">Bernardo Loureiro | Medida SP</a>.</p>\n      </section>\n    </div>\n  );\n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './assets/css/index.scss';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}